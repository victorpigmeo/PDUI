syntax = "proto3";

package PDUI;

message PBScaffold {
  PBExpression appBar = 1;
  PBExpression body = 2;
}

message PBAppBar {
  string backgroundColor = 1;
  string title = 2;
}

message PBCenter {
  PBExpression child = 1;
}

message PBText {
  string data = 1;
}

message PBColumn {
  repeated PBExpression children = 1;
}

message PBElevatedButton {
  PBExpression child = 1;
  PBFnExpression onPressed = 2;
}

enum PBDataType {
  STRING = 0;
  INT = 1;
  FLOAT = 2;
  BOOLEAN = 3;
}

message PBFnParameter {
  string name = 1;
  PBDataType type = 2;
  oneof value {
    string stringValue = 3;
    int32 intValue = 4;
    float floatValue = 5;
    bool booleanValue = 6;
  }
}

message PBFn {
  optional string name = 1;
  map<string, PBFnParameter> params = 2;
  map<string, PBFnExpression> body = 3;
}

message PBDebugPrint{
  PBExpression expression = 1;
}

message PBNavigation{
  string expressionId = 1;
  //TODO: Support data on navigation
}

message PBPopNavigation{
  //TODO: Support data on pop
}

message PBFnExpression {
  string identity = 1;
  oneof payload {
    PBFn genericFn = 2;
    PBDebugPrint debugPrint = 3;
    PBNavigation navigation = 4;
    PBPopNavigation popNavigation = 5;
  }
}

message PBExpression {
  optional string key = 1;
  string identity = 2;
  oneof payload {
    string rawString = 3;
    PBScaffold scaffold = 4;
    PBCenter center = 5;
    PBText text = 6;
    PBAppBar appBar = 7;
    PBColumn column = 8;
    PBElevatedButton elevatedButton = 9;
  }
}
